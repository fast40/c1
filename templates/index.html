<!DOCTYPE html>
<html>
	<head>
		<title>Upload Files</title>
		<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
	</head>
	<body>
		<h1>Qualtrics setup</h1>
		<p>Each of the following lines will be replaced with its corresponding data from the dataset when pasted into the "HTML view" of the question text:</p>
		<code>
			&lt;span id="initial_answer_1"&gt;&lt;/span&gt;<br>
			&lt;span id="initial_answer_2"&gt;&lt;/span&gt;<br>
			&lt;span id="initial_answer_3"&gt;&lt;/span&gt;<br>
			&lt;span id="initial_answer_4"&gt;&lt;/span&gt;<br>
			<br>
			&lt;span id="meta_error_1"&gt;&lt;/span&gt;<br>
			&lt;span id="meta_error_2"&gt;&lt;/span&gt;<br>
			&lt;span id="meta_error_3"&gt;&lt;/span&gt;<br>
			&lt;span id="meta_error_4"&gt;&lt;/span&gt;<br>
		</code>
		<p>The following javascript code needs to be pasted into the javascript onloaded section:</p>
		<code>
            const xhttp = new XMLHttpRequest;<br>
			<br>
            xhttp.onreadystatechange = function() {<br>
                if (this.readyState == 4 && this.status == 200) {<br>
                    const server_response = JSON.parse(xhttp.responseText);<br>
					<br>
                    for (var i = 0; i < server_response['initial_answers'].length; i++) {<br>
                        const initial_answer_element = document.getElementById("initial_answer_" + (i + 1));<br>
                        const meta_error_element = document.getElementById("meta_error_" + (i + 1));<br>
						<br>
                        initial_answer_element.innerHTML = server_response["initial_answers"][i];<br>
						<br>
                        if (meta_error_element != null) {<br>
                            meta_error_element.innerHTML = server_response["meta_errors"][i];<br>
                        }<br>
                    }<br>
                }<br>
            }<br>
			<br>
            xhttp.open("GET", "/get_responses?question_number=1");<br>
            xhttp.send();<br>
		</code>
	</body>
</html>
